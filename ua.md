Binary Studio Academy PHP 2022
====

### Домашнє завдання ([RU](readme.md))

#### Вимоги

Увага: до початку виконання завдання вартує переконатися, що у вас налаштоване робоче оточення.
А саме:
 - php 8
 - git
 - composer

Рекомендується використовувати Vagrant та віртуальну машину Homestead.
Докладніше тут: [https://laravel.com/docs/master/homestead](https://laravel.com/docs/master/homestead)

***

#### Встановлення

Встановлення показане у робочому оточенні OS Linux:

```bash
git clone https://github.com/BinaryStudioAcademy/bsa-modern-php-2022.git
cd bsa-modern-php-2022
composer install
```

#### Структура завдань

Всі завдання розділені на папки всередині `/src`.

Вашим завданням, в більшості випадків, буде доповнити існуючий код
функціональністю.
Набір даних для кожного завдання буде жорстко заданий для перевірки в тестах.

***

#### Завдання 1

У першому завданні (Task1) необхідно працювати з автомобільними перегонами.

Вам необхідно створити кілька автомобілів, спираючись на клас `Car`,
та використовувати частину даних з таблиці.

| Name         | Image
|--------------|--------------------------------------------------|
| BMW          | [https://pbs.twimg.com/profile_images/595409436585361408/aFJGRaO6_400x400.jpg](https://pbs.twimg.com/profile_images/595409436585361408/aFJGRaO6_400x400.jpg) |
| Tesla        | [https://i.pinimg.com/originals/e4/15/83/e41583f55444b931f4ba2f0f8bce1970.jpg](https://i.pinimg.com/originals/e4/15/83/e41583f55444b931f4ba2f0f8bce1970.jpg) |
| Ford         | [https://fordsalomao.com.br/wp-content/uploads/2019/02/1499441577430-1-1024x542-256x256.jpg](https://fordsalomao.com.br/wp-content/uploads/2019/02/1499441577430-1-1024x542-256x256.jpg) |

Далі вам необхідно працювати з класом `Track`,
реалізувавши методи

* `add` (додавання автомобіля на трек)
* `all` (отримання всіх автомобілів, що знаходяться на треку)
* `run` (запуск гонки та визначення переможця)

Метод run запускає гонку треком і повинен повертати автомобіль-переможець. При реалізації цього методу необхідно
враховувати такі параметри автомобіля, як speed (швидкість в км/годину), pitStopTime (час, необхідний автомобілю на піт
стопі для повної заправки бака, в сек), fuelConsumption( витрата бензину на 100км, в л), fuelTankVolume
(Місткість бака, в л), а також параметри треку: lapLength (протяжність треку, в км) і lapsNumber (кількість кіл).

Перевірити себе можна запустивши:
```bash
./vendor/bin/phpunit --testsuite task1
```

***

#### Завдання 2

У другому завданні (Task2) необхідно реалізувати генератор (використовуючи `yield`), який фільтрує та повертає книги
з двох джерел (бібліотека та магазин).

Для цього потрібно реалізувати метод `generate` класу `BookGenerator`, а також доповнити код інших допоміжних методів класів `BookGenerator` та `Book`.

Фільтрування в генераторі має відбуватися, враховуючи такі умови:

* книги, отримані з бібліотеки, (`libraryBooks`) повинні мати не менше ніж `minPagesNumber` кількість сторінок
* книги, отримані з магазину, (`storeBooks`) повинні бути не дорожчими `maxPrice`

Перевірити себе можна запустивши:
```bash
./vendor/bin/phpunit --testsuite task2
```

***

#### Завдання 3

У третьому завданні (Task 3) ми практикуватимемося із вбудованим web-сервером php.
Ваше завдання полягає в тому, щоб відрендерити список створених вами
у завданні 1 автомобілів та відобразити сторінку, використовуючи вбудований web-сервер.

Для цього вам необхідно наповнити автомобільний трек у файлі `index.php`
та реалізувати метод `present` класу `CarTrackHtmlPresenter`,
спираючись на код тестів до завдання.

Якщо ви використовуєте Homestead, то спочатку потрібно зупинити `nginx`.

```shell
sudo pkill nginx
```
Потім запустити вбудований веб-сервер:

```
php -S 0.0.0.0:80 -t ./src/Task3
```

Може знадобитися команда "sudo php -S 0.0.0.0:80 -t ./src/Task3".

Сторінка буде доступна у браузері за адресою:

[http://192.168.10.10:80](http://192.168.10.10:80) - якщо використовуєте homestead

[http://127.0.0.1:80](http://127.0.0.1:80) - якщо запускаєте з локальної машини

Частина коду вже міститься у файлі `index.php`. 

Перевірити себе можна запустивши:
```bash
./vendor/bin/phpunit --testsuite task3
```

***

#### Перевірка

Ви вже, мабуть, помітили, що для перевірки завдань ми використовуємо
[PHPUnit](https://phpunit.de/getting-started.html).
Це необхідно для того, щоб перевірити чи відповідають ваші рішення
нашим очікуванням (запропонованої специфікації).
Якщо ви раніше не були знайомі з PHPUnit, то не засмучуйтесь.
Ми розглянемо його у подальших лекціях докладніше.

На даному етапі можете вважати, що це лише автоперевірка
(як на [codewars.com] (https://www.codewars.com)).

Спочатку всі тести "червоні", тобто. поламані.
Для того, щоб вони стали робітниками (зеленими) і не було помилок,
Вам необхідно реалізувати необхідні рішення.

**Який профіт від тестів?**

* **Для вас**: Впевненість, що ви на правильному шляху (у тестах дуже багато підказок).
* **Для нас**: Рутинна перевірка зводиться до мінімуму
і ми зможемо зосередитися на рекомендаціях та фідбеку.

**Що робити не можна**
* Міняти код assert-ів у тестах
* Підганяти відповіді під очікувані результати (код ми все одно дивитимемося).


Запуск усіх тестів:

```bash
./vendor/bin/phpunit
```

Запуск тесту для конкретного завдання:

```bash
./vendor/bin/phpunit --testsuite task1
```

#### Критерії оцінювання

* Завдання виконані коректно та тести проходять успішно (6 балів)

* Використані сучасні можливості 8 (1 бал)

* Валідація даних виконана коректно (використовуються кастомні виключення, додаток не ломається при невалідних вхідних значеннях) (1 балл)

* Код написаний чисто, коментарів у коді немає та код відповідає стандарту [PSR-12](https://www.php-fig.org/psr/psr-12/) (1 бал)

* Awesomness - залишається на розсуд перевіряючого (1 бал)

#### Прийом рішень

Ваше рішення необхідно розмістити в окремому репозиторії на [Bitbucket](https://bitbucket.org/)
і надіслати посилання на нього.

Задавайте питання у коментарях до завдання у разі виникнення проблем.

*Форкати* цей репозиторій **заборонено**!
